<%- include('../../includes/site/head.ejs') %>
<link rel="stylesheet" href="/css/shop.css">
</head>

<body>

    <div id="main-wrapper">

        <!-- ============================================================== -->
        <!-- Top header -->
        <div class="topbar">

            <div class="header14 po-relative">

                <% if (isAuthenticated) { %>
                <%- include('../../includes/site/header.ejs', { userIsMerchant: user.isMerchant }) %>
                <%- include('../../includes/site/navigation.ejs', { userIsMerchant: user.isMerchant }) %>
                <% } else { %>
                <%- include('../../includes/site/header.ejs') %>
                <%- include('../../includes/site/navigation.ejs') %>
                <% } %>

            </div>

        </div>

        <!-- ============================================================== -->
        <!-- Page wrapper -->
        <div class="page-wrapper">

            <!-- ============================================================== -->
            <!-- Container fluid -->
            <div class="container-fluid">

                <!-- ============================================================== -->
                <!-- Slider or Banner -->

                <div class="static-slider3">
                    <div class="container">
                        <div class="row justify-content-center ">
                            <!-- Column -->
                            <div class="col-md-8 align-self-center text-center" data-aos="fade-right" data-aos-duration="1200">
                                <h1 class="title">
                                    <b class="font-bold text-secondary">Products</b> <br />
                                    <span class="text-info-gradiant typewrite" data-period="2000" data-type='[ "Browse Available Products!" ]'>
                                    </span>
                                </h1>
                            </div>
                            <!-- Column -->
                        </div>
                    </div>
                </div>

                <!-- ============================================================== -->
                <!-- Content -->

                <div class="spacer">
                    <div class="container">
                        <div class="row m-t-30">
                            <!-- column  -->
                            <div class="col-lg-12">
                                <div class="d-flex m-b-40">
                                    <span class="align-self-center">Browse all products</span>
                                    <div class="align-self-center ml-auto">
                                        <select class="custom-select col-12" id="inlineFormCustomSelect">
                                            <option selected="">Default Sorting</option>
                                            <option value="1">25</option>
                                            <option value="2">50</option>
                                            <option value="3">100</option>
                                        </select>
                                    </div>
                                </div>
                                <!-- End Tittle  -->
                                <div class="row shop-listing">

                                    <% if (prods.length > 0) { %>

                                    <% for (let product of prods) { %>

                                    <!-- column  -->
                                    <div class="col-lg-3">
                                        <div class="card shop-hover">
                                            <img src="/<%= product.imageUrl %>" alt="<%= product.title %>" class="mx-auto d-block"
                                                width="250" height="240" />

                                            <div class="card-img-overlay align-items-center">

                                                <a href="/products/<%= product._id %>" class="btn btn-md btn-info">Details</a>

                                            </div>
                                        </div>

                                        <div class="card">
                                            <h6 class="text-ellipsis">
                                                <%= product.title %>
                                            </h6>
                                            <p class="subtitle text-ellipsis">
                                                <%= product.description %>
                                            </p>
                                            <h5 class="font-medium m-b-30">$
                                                <%= product.price %>
                                            </h5>
                                        </div>
                                    </div>
                                    <!-- column  -->

                                    <% } %>

                                    <%- include('../../includes/site/pageination.ejs', {
                                        currentPage: currentPage, 
                                        nextPage: nextPage, 
                                        previousPage: previousPage, 
                                        lastPage: lastPage, 
                                        hasNextPage: hasNextPage, 
                                        hasPreviousPage: hasPreviousPage}
                                    ) %>

                                    <% } else { %>

                                    <h3>No Products Found!</h3>

                                    <% } %>

                                </div>
                            </div>
                            <!-- column  -->
                        </div>
                    </div>
                </div>

            </div>

            <!-- ============================================================== -->
            <!-- Back to top -->
            <%- include('../../includes/site/back_to_top.ejs') %>

        </div>

        <!-- ============================================================== -->
        <!-- footer -->
        <%- include('../../includes/site/footer.ejs') %>

    </div>

    <%- include('../../includes/site/end.ejs') %>

    <script type="text/javascript" src="/js/type.js"></script>